{template 'common/header'}
<script language="javascript" src="../addons/awt_enroll/static/js/dist/mui/js/mui.min.js"></script>
<link href="../addons/awt_enroll/static/js/dist/mui/css/mui.min.css" rel="stylesheet"/>
<title>排行榜</title>
<body>
<header class="mui-bar mui-bar-nav">
    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
    <h1 class="mui-title">排行榜</h1>
</header>
<div id='container'></div>

<script id='tpl_list' type='text/html'>
    <div class="mui-content">
        <div class="mui-card" style="margin-top: 50px">
            <ul class="mui-table-view">
                <%each list as player%>
                    <li class="mui-table-view-cell">
                        <%player.rank%>
                        <%player.name%>
                        <%player.country%>
                        <%player.score%>
                        <%player.attendMatch%>
                    </li>
                <%/each%>
            </ul>
        </div>
    </div>
</script>
<script id='tpl_empty' type='text/html'>
    <div class="notice_no"><i class="fa fa-volume-up" style="font-size:100px;"></i><br><span style="line-height:18px; font-size:16px;">暂时没有任何内容</span>
    </div>
</script>
<script language="javascript">
    var page = 1;
    require(['tpl', 'core'], function (tpl, core) {
        $('#container').html(tpl('tpl_notice_main'));

        core.json('ranking/ranking', {}, function (json) {
            if(json.status == 0)
                core.tip.show(json.result);
            $('#container').html(tpl('tpl_list', json.result));
        }, true);
    })
</script>
